{"version":3,"sources":["webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/map/map.component.ts","webpack:///./src/app/statemanagement/actions/actions.ts","webpack:///./src/app/statemanagement/reducers/ghostlocations.reducer.ts","webpack:///./src/environments/environment.ts","webpack:///./src/polyfills.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/map/map.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/map/map.component.html"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 402;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 402\n// module chunks = 1","import './polyfills.ts';\n\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { enableProdMode } from '@angular/core';\nimport { environment } from './environments/environment';\nimport { AppModule } from './app/app.module';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { Component } from '@angular/core';\nimport {\n  RouterModule,\n  Routes\n} from '@angular/router';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'True Irish Ghosts';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\nimport {GMapModule} from 'primeng/primeng';\nimport {DialogModule} from 'primeng/primeng';\nimport {SelectButtonModule} from 'primeng/primeng';\n\nimport { AppComponent } from './app.component';\nimport { MapComponent } from './map/map.component';\n\nimport {StoreModule} from '@ngrx/store';\nimport {ghostlocationsReducer} from './statemanagement/reducers/ghostlocations.reducer';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    MapComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    GMapModule,\n    DialogModule,\n    SelectButtonModule,\n    StoreModule.provideStore({ ghostlocations: ghostlocationsReducer })\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, OnInit } from '@angular/core';\nimport { Http, Response, RequestOptions, Headers } from '@angular/http';\nimport {GMap} from 'primeng/primeng';\nimport {Dialog} from 'primeng/primeng';\nimport {SelectButton} from 'primeng/primeng';\nimport {SelectItem} from 'primeng/primeng';\nimport {Observable} from 'rxjs';\nimport {MapData} from './map.data';\nimport {LatLng} from './latlng';\nimport {StoryDetail} from './story.detail';\nimport { Store } from '@ngrx/store';\nimport {\n  ADD_LOCATION\n} from '../statemanagement/actions/actions'\n\ninterface AppState {\n  mapData: MapData[];\n};\n\n\ndeclare var google: any;\n\n\n@Component({\n  selector: 'app-map',\n  templateUrl: './map.component.html',\n  styleUrls: ['./map.component.css']\n})\nexport class MapComponent implements OnInit {\n  //google: any;\n  //map: any;\n  data: Object;\n  loading: boolean;\n  displayDialog: boolean;\n  mapMarkers: MapData[];\n  storydetail: StoryDetail;\n  headerText: String;\n  ghostStory: String;\n  currentview: String = \"Identified Locations\";\n  locationTypes: SelectItem[];\n\n options: any;\n    \n overlays: any[];\n  counter: Observable<MapData[]>;\n\n    \n  constructor(public http: Http, private store: Store<AppState>) { \n    this.locationTypes = [];\n    this.locationTypes.push({label:'Identified Locations', value:'Identified Locations'});\n    this.locationTypes.push({label:'Counties', value:'Counties'});\n    this.locationTypes.push({label:'Dublin', value:'Dublin'});\n  }\n\n  ngOnInit() {\n        this.options = {\n            center: {lat: 53.587922, lng: -7.905928},\n            zoom: 6,\n             mapTypeId: google.maps.MapTypeId.ROADMAP\n        };\n   \n    /*var mapProp = {\n      center: new google.maps.LatLng(53.587922, -7.905928),\n      zoom: 7,\n      mapTypeId: google.maps.MapTypeId.ROADMAP\n    };*/\n    //this.map = new google.maps.Map(document.getElementById(\"gmap\"), mapProp);\n    this.overlays = [];\n    this.getGhosts();\n  }\n\n\n  getGhosts() {\n    var url: string;\n    if(this.currentview===\"Identified Locations\"){\n      url = '/ghosts';\n    }\n    else if(this.currentview===\"Counties\"){\n      url = '/county_ghosts';\n    }\n     else if(this.currentview===\"Dublin\"){\n      //TODO - no data file for Dublin yet\n      url = '/dublinghosts';\n      this.zoomOnDublin();\n    }\n    console.log(\"getting ghosts:\" + this.currentview);\n    this.loading = true;\n    this.http.request(url)\n    //this.http.request('../../main/resources/ghosts.json')\n      .subscribe((res: Response) => {\n        this.mapMarkers = res.json() as MapData[];\n        console.log(this.mapMarkers.length);\n        this.loadMapMarkers();\n        //this.overlays = res.json() as MapData[];\n        this.loading = false;\n        console.log(\"got ghosts\" + JSON.stringify(this.overlays));\n      });\n  }\n\n  loadMapMarkers() {\n    for (var i = 0; i < this.mapMarkers.length; i++) {\n      // console.log(\"reloading map:\" + this.mapMarkers[i].title);\n      // Create a marker and set its position.\n      var marker = new google.maps.Marker({\n       // map: this.map,\n        position: this.mapMarkers[i].position,\n        title: this.mapMarkers[i].title\n      });\n      this.overlays.push(marker);\n      this.store.dispatch({type: ADD_LOCATION, payload: this.mapMarkers[i]});\n    }\n  }\n\n  handleOverlayClick(event) {\n        //event.originalEvent: MouseEvent of Google Maps api\n        //event.overlay: Clicked overlay     \n        //event.map: Map instance  \n        var marker = event.overlay; \n        //console.log(\"Overlay Clicked \" + marker.title);\n        this.headerText = marker.title;\n        this.getGhostDetails(marker.title);\n  }\n\n   getGhostDetails(locationtitle :String) {\n    console.log(\"getting ghost details:\" + locationtitle);\n    this.loading = true;\n    this.http.request('/ghostlocation/' + locationtitle)\n    //this.http.request('../../main/resources/ghosts.json')\n      .subscribe((res: Response) => {\n        this.storydetail = res.json() as StoryDetail;\n        this.ghostStory = this.storydetail.references[0].text;\n        //console.log(JSON.stringify(marker));\n        this.displayDialog=true;\n      });\n  }\n\n  public changeView(obj:any){\n    console.log(obj.value);\n     this.overlays = [];\n    this.getGhosts();\n }\n\n zoomOnDublin(){\n   this.options.center.lat = 53.348573;\n   this.options.center.lng = -6.256490;\n }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/map/map.component.ts","export const ADD_LOCATION = 'ADD_LOCATION';\n\n\n// WEBPACK FOOTER //\n// ./src/app/statemanagement/actions/actions.ts","import { ActionReducer, Action } from '@ngrx/store';\r\nimport { MapData } from '../../map/map.data';\r\n\r\n//export function ghostlocationsReducer (state: MapData[] = MapData[], action: Action) {\r\n  export function ghostlocationsReducer (state = [], action: Action) {\r\n  switch(action.type){\r\n    case 'ADD_LOCATION':\r\n      return [\r\n        ...state,\r\n        Object.assign({}, {id: action.payload.id, title: action.payload.title, position:Object.assign({}, {lat: action.payload.position.lat, lng: action.payload.position.lng})})\r\n      ];\r\n    default:\r\n      return state;\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/statemanagement/reducers/ghostlocations.reducer.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","// This file includes polyfills needed by Angular 2 and is loaded before\n// the app. You can add your own extra polyfills to this file.\nimport 'core-js/es6/symbol';\nimport 'core-js/es6/object';\nimport 'core-js/es6/function';\nimport 'core-js/es6/parse-int';\nimport 'core-js/es6/parse-float';\nimport 'core-js/es6/number';\nimport 'core-js/es6/math';\nimport 'core-js/es6/string';\nimport 'core-js/es6/date';\nimport 'core-js/es6/array';\nimport 'core-js/es6/regexp';\nimport 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport 'core-js/es6/reflect';\n\nimport 'core-js/es7/reflect';\nimport 'zone.js/dist/zone';\n\n\n\n// WEBPACK FOOTER //\n// ./src/polyfills.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 752\n// module chunks = 1","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/map.component.css\n// module id = 753\n// module chunks = 1","module.exports = \"<app-map></app-map>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 754\n// module chunks = 1","module.exports = \"\\n    <h2>Ghost Map - {{currentview}}</h2>\\n    <p-selectButton [options]=\\\"locationTypes\\\" [(ngModel)]=\\\"currentview\\\" (onChange)=\\\"changeView($event)\\\"></p-selectButton>\\n    <!--div id=\\\"gmap\\\" style=\\\"width:500px;height:380px;\\\"></div-->\\n    <p-gmap [options]=\\\"options\\\" [overlays]=\\\"overlays\\\" [style]=\\\"{'width':'100%','height':'500px'}\\\" (onOverlayClick)=\\\"handleOverlayClick($event)\\\" ></p-gmap>\\n    <div *ngIf=\\\"loading\\\">loading...</div>\\n    <p-dialog [(visible)]=\\\"displayDialog\\\" >\\n    <p-header>\\n        {{headerText}}\\n    </p-header>\\n        {{ghostStory}}\\n    <p-footer>\\n       Do you know something about this ghost story? \\n    </p-footer>\\n    </p-dialog>\\n\\n    <!--pre>{{data | json}}</pre-->\\n    \\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/map.component.html\n// module id = 755\n// module chunks = 1"],"sourceRoot":""}