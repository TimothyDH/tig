webpackJsonp([1,3],{402:function(t,e){function o(t){throw new Error("Cannot find module '"+t+"'.")}o.keys=function(){return[]},o.resolve=o,t.exports=o,o.id=402},403:function(t,e,o){"use strict";var n=o(535),i=(o.n(n),o(494)),s=o(0),a=o(534),r=o(530);a.a.production&&o.i(s.enableProdMode)(),o.i(i.a)().bootstrapModule(r.a)},529:function(t,e,o){"use strict";var n=o(0);o.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(s<3?i(a):s>3?i(e,o,a):i(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){this.title="True Irish Ghosts"}return t=i([o.i(n.Component)({selector:"app-root",template:o(754),styles:[o(752)]}),s("design:paramtypes",[])],t)}()},530:function(t,e,o){"use strict";var n=o(112),i=o(0),s=o(13),a=o(315),r=o(169),l=(o.n(r),o(529)),c=o(531),p=o(338),u=o(533);o.d(e,"a",function(){return f});var d=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(s<3?i(a):s>3?i(e,o,a):i(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},h=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function t(){}return t=d([o.i(i.NgModule)({declarations:[l.a,c.a],imports:[n.BrowserModule,s.FormsModule,a.b,r.GMapModule,r.DialogModule,r.SelectButtonModule,r.ButtonModule,p.b.provideStore({ghostlocations:u.a})],providers:[],bootstrap:[l.a]}),h("design:paramtypes",[])],t)}()},531:function(t,e,o){"use strict";var n=o(0),i=o(315),s=o(338),a=o(532);o.d(e,"a",function(){return c});var r=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(s<3?i(a):s>3?i(e,o,a):i(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.http=t,this.store=e,this.currentview="Identified Locations",this.locationTypes=[],this.locationTypes.push({label:"Identified Locations",value:"Identified Locations"}),this.locationTypes.push({label:"Dublin",value:"Dublin"}),this.locationTypes.push({label:"Unidentified Locations",value:"Unidentified Locations"}),this.displaystorydetails=!1}return t.prototype.ngOnInit=function(){this.options={center:{lat:53.587922,lng:-7.905928},zoom:6,mapTypeId:google.maps.MapTypeId.ROADMAP},this.overlays=[],this.getGhosts()},t.prototype.getGhosts=function(){var t,e=this;"Identified Locations"===this.currentview?t="/data/ided_ghosts.json":"Unidentified Locations"===this.currentview?t="/data/unided_ghosts.json":"Dublin"===this.currentview&&(t="/data/dublin_ghosts.json",this.zoomOnDublin()),console.log("getting ghosts:"+this.currentview),this.loading=!0,this.http.request(t).subscribe(function(t){e.mapMarkers=t.json(),console.log(e.mapMarkers.length),e.loadMapMarkers(),e.loading=!1,console.log("got ghosts"+JSON.stringify(e.overlays))})},t.prototype.loadMapMarkers=function(){for(var t=0;t<this.mapMarkers.length;t++){var e=new google.maps.Marker({position:this.mapMarkers[t].position,title:this.mapMarkers[t].title});this.overlays.push(e),this.store.dispatch({type:a.a,payload:this.mapMarkers[t]})}},t.prototype.handleOverlayClick=function(t){var e=t.overlay;this.headerText=e.title,this.getGhostDetails(e.title)},t.prototype.getGhostDetails=function(t){var e=this;console.log("getting ghost details:"+t),this.displaystorydetails=!1,this.http.request("/data/data/"+t+".json").subscribe(function(t){e.storydetail=t.json(),e.ghostStory=e.storydetail.references[0].text,e.displaystorydetails=!0})},t.prototype.changeView=function(t){this.displaystorydetails=!1,this.overlays=[],this.getGhosts()},t.prototype.zoomOnDublin=function(){this.options.center.lat=53.348573,this.options.center.lng=-6.25649},t=r([o.i(n.Component)({selector:"app-map",template:o(755),styles:[o(753)]}),l("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object,"function"==typeof(c="undefined"!=typeof s.a&&s.a)&&c||Object])],t);var e,c}()},532:function(t,e,o){"use strict";o.d(e,"a",function(){return n});var n="ADD_LOCATION"},533:function(t,e,o){"use strict";function n(t,e){switch(void 0===t&&(t=[]),e.type){case"ADD_LOCATION":return t.concat([Object.assign({},{id:e.payload.id,title:e.payload.title,position:Object.assign({},{lat:e.payload.position.lat,lng:e.payload.position.lng})})]);default:return t}}e.a=n},534:function(t,e,o){"use strict";o.d(e,"a",function(){return n});var n={production:!0}},535:function(t,e,o){"use strict";var n=o(549),i=(o.n(n),o(542)),s=(o.n(i),o(538)),a=(o.n(s),o(544)),r=(o.n(a),o(543)),l=(o.n(r),o(541)),c=(o.n(l),o(540)),p=(o.n(c),o(548)),u=(o.n(p),o(537)),d=(o.n(u),o(536)),h=(o.n(d),o(546)),f=(o.n(h),o(539)),y=(o.n(f),o(547)),g=(o.n(y),o(545)),v=(o.n(g),o(550)),b=(o.n(v),o(788));o.n(b)},752:function(t,e){t.exports=""},753:function(t,e){t.exports=""},754:function(t,e){t.exports="<div>\n   <app-map></app-map>\n</div>\n"},755:function(t,e){t.exports='\n<div>\n   In the early Twentieth Century Ireland, St. John D Seymour embarked on a remarkable experiment in crowd sourcing, designed to gather a collection of verified "True" Irish ghost stories.\n   <BR>The goal of this site is to try to find out more about those stories, and if possible, update them for the Twenty First Centuey. Please tell us if you can add anything. \n   <BR>Do these ghosts still haunt these places or have they disappeared? Perhaps they\'ve been replaced by more modern phantoms?\n  </div>\n    <h2>Ghost Map - {{currentview}}</h2>\n    <p-selectButton [options]="locationTypes" [(ngModel)]="currentview" (onChange)="changeView($event)"></p-selectButton>\n    <!--div id="gmap" style="width:500px;height:380px;"></div-->\n    <p-gmap [options]="options" [overlays]="overlays" [style]="{\'width\':\'100%\',\'height\':\'500px\'}" (onOverlayClick)="handleOverlayClick($event)" ></p-gmap>\n    <div *ngIf="loading">loading...</div>\n    <div *ngIf="displaystorydetails">\n        <h2>{{headerText}}</h2>\n         {{ghostStory}}\n        <h3>Do you know something about this ghost story?<button pButton type="button" class="ui-button-danger" label="Tell Us"></button></h3>\n    </div>\n    \n    \n'},789:function(t,e,o){t.exports=o(403)}},[789]);
//# sourceMappingURL=main.128bafb7fa464e963949.bundle.map